#!/bin/ksh
#*****************************************************************************
#
#  This script is used to generate truncate for user 
#
#  USAGE: gencreate_dev_user username
#
#  By Adi Zohar - Feb 2003
#*****************************************************************************
sqlplus "/ as sysdba" <<EOF
set line 132 pages 0 echo on trimspo on
CREATE USER SENSIS_UPDATE_USER
  IDENTIFIED BY SENSIS_UPDATE_USER_AJSUEJ
  DEFAULT TABLESPACE POOL_DATA
  TEMPORARY TABLESPACE TEMP
  PROFILE DEFAULT
  ACCOUNT UNLOCK;

  grant CONNECTOR_ROLE to SENSIS_UPDATE_USER;
  GRANT RESOURCE TO SENSIS_UPDATE_USER;
  ALTER USER SENSIS_UPDATE_USER DEFAULT ROLE ALL;
  grant select on v_\$session to SENSIS_UPDATE_USER;
  grant select on dba_segments to SENSIS_UPDATE_USER;

  -- Normal Access to all Tables

  revoke UPDATE ANY TABLE from SENSIS_UPDATE_USER;
  revoke INSERT ANY TABLE from SENSIS_UPDATE_USER;
  revoke SELECT ANY TABLE from SENSIS_UPDATE_USER;
  revoke DELETE ANY TABLE from SENSIS_UPDATE_USER;
  revoke SELECT ANY SEQUENCE from SENSIS_UPDATE_USER;
  revoke LOCK ANY TABLE from SENSIS_UPDATE_USER;
  revoke NO_TOAD_ROLE from SENSIS_UPDATE_USER;
  revoke SELECT_CATALOG_ROLE from SENSIS_UPDATE_USER;
  revoke CONNECT from SENSIS_UPDATE_USER;

-- Grant all Roles
  grant AAM_WORK_UPDATOR_ROLE to SENSIS_UPDATE_USER;
  grant ACMS_WORK_UPDATOR_ROLE to SENSIS_UPDATE_USER;
  grant ADS_WORK_UPDATOR_ROLE to SENSIS_UPDATE_USER;
  grant AFL_WORK_UPDATOR_ROLE to SENSIS_UPDATE_USER;
  grant AUTHWORK_UPDATOR_ROLE to SENSIS_UPDATE_USER;
  grant BIL_WORK_MASTER_UPDATOR_ROLE to SENSIS_UPDATE_USER;
  grant BIL_WORK_UPDATOR_ROLE to SENSIS_UPDATE_USER;
  grant CGS_WORK_UPDATOR_ROLE to SENSIS_UPDATE_USER;
  grant CYP_WORK_UPDATOR_ROLE to SENSIS_UPDATE_USER;
  grant DLV_WORK_UPDATOR_ROLE to SENSIS_UPDATE_USER;
  grant DM_WORK_UPDATOR_ROLE to SENSIS_UPDATE_USER;
  grant EAI_WORK_UPDATOR_ROLE to SENSIS_UPDATE_USER;
  grant EPR_WORK_UPDATOR_ROLE to SENSIS_UPDATE_USER;
  grant HM_WORK_UPDATOR_ROLE to SENSIS_UPDATE_USER;
  grant IM_WORK_UPDATOR_ROLE to SENSIS_UPDATE_USER;
  grant NTF_WORK_UPDATOR_ROLE to SENSIS_UPDATE_USER;
  grant PARAM_WORK_UPDATOR_ROLE to SENSIS_UPDATE_USER;
  grant PDLM_WORK_UPDATOR_ROLE to SENSIS_UPDATE_USER;
  grant PD_WORK_MASTER_UPDATOR_ROLE to SENSIS_UPDATE_USER;
  grant PD_WORK_UPDATOR_ROLE to SENSIS_UPDATE_USER;
  grant REFCORE_WORK_UPDATOR_ROLE to SENSIS_UPDATE_USER;
  grant REFWORK_MASTER_UPDATOR_ROLE to SENSIS_UPDATE_USER;
  grant REFWORK_UPDATOR_ROLE to SENSIS_UPDATE_USER;
  grant REF_APPL_MASTER_UPDATOR_ROLE to SENSIS_UPDATE_USER;
  grant REF_APPL_UPDATOR_ROLE to SENSIS_UPDATE_USER;
  grant SO_WORK_UPDATOR_ROLE to SENSIS_UPDATE_USER;
  grant SP_WORK_UPDATOR_ROLE to SENSIS_UPDATE_USER;
  grant UAMS_WORK_UPDATOR_ROLE to SENSIS_UPDATE_USER;
  grant AFL_WLI_USER_UPDATOR_ROLE to SENSIS_UPDATE_USER;
  
  GRANT execute on DBMS_SNAPSHOT to SENSIS_UPDATE_USER;

alter user SENSIS_UPDATE_USER quota unlimited on pool_data;
alter USER SENSIS_UPDATE_USER default tablespace conv_data;

revoke OP_WORK_UPDATOR_ROLE from SENSIS_UPDATE_USER;

EOF
add_to_alt_user_password.sh SENSIS_UPDATE_USER
gencreateappsynonym SENSIS_UPDATE_USER

